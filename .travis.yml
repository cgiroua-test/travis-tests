sudo: required

services:
- docker

notifications:
  slack: ${SLACK_TEAM}:${SLACK_TOKEN}

env: 

script:
- printenv
- docker build -t cgiroua/test-repo .

after_success:
- '{ test $TRAVIS_PULL_REQUEST = ''false'' && test $TRAVIS_BRANCH = ''master'' &&
  [[ ! "$TRAVIS_COMMIT_MESSAGE" =~ "--skip-push" ]]  && docker login -u="$DOCKERHUB_USER"
  -p="$DOCKERHUB_PASS" && docker push cgiroua/test-repo; } || echo ''Skipping push'''
